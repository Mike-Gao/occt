puts "========"
puts "OCC26302"
puts "========"
puts ""
#######################################################################
# Convert assembly to compound
#######################################################################

pload ALL
box b1 0 0 0 10 10 10 
box b2 10 0 0 10 10 10 
box b3 20 0 0 10 10 10 
explode b1
explode b2
explode b3
explode b1_1
explode b2_1
explode b3_1
compound b1 b2 c1
compound c1 b3 c2
NewDocument D
XAddShape D c2 1
XSetColor D b1 1 0 0 
XSetColor D b2 0 1 0 
XSetColor D b3 0 0 1 
XSetColor D b1_1_4 1 1 0 
XSetColor D b2_1_4 0 1 1 
XSetColor D b3_1_4 1 0 1
XSetColor D b1_1_3 1 0 1 
XSetColor D b2_1_3 1 1 0 
XSetColor D b3_1_3 0 1 1
XCompact D 

if { [regexp "PART COMPOUND 0:1:1:1 \"ASSEMBLY\"" [Xdump D]] != 1 } {
 puts "ERROR: Structure of document is wrong.1"
} else {
  if { [regexp "BLUE" [XGetShapeColor D 0:1:1:1:2]] != 1 } {
    puts "ERROR: Structure of document is wrong."
  } else {
    if { [regexp "RED" [XGetShapeColor D 0:1:1:1:3]] != 1 } {
      puts "ERROR: Structure of document is wrong."
    } else {
      if { [regexp "GREEN" [XGetShapeColor D 0:1:1:1:4]] != 1 } {
        puts "ERROR: Structure of document is wrong."
      } else {
        if { [regexp "YELLOW" [XGetShapeColor D 0:1:1:1:5]] != 1 } {
          puts "ERROR: Structure of document is wrong."
        } else {
          if { [regexp "MAGENTA" [XGetShapeColor D 0:1:1:1:6]] != 1 } {
            puts "ERROR: Structure of document is wrong."
          } else {
            if { [regexp "CYAN" [XGetShapeColor D 0:1:1:1:7]] != 1 } {
              puts "ERROR: Structure of document is wrong."
            } else {
              if { [regexp "YELLOW" [XGetShapeColor D 0:1:1:1:8]] != 1 } {
                puts "ERROR: Structure of document is wrong."
              } else {
                if { [regexp "MAGENTA" [XGetShapeColor D 0:1:1:1:9]] != 1 } {
                  puts "ERROR: Structure of document is wrong."
                } else {
                  if { [regexp "CYAN" [XGetShapeColor D 0:1:1:1:10]] != 1 } {
                    puts "ERROR: Structure of document is wrong."
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}











