puts "============"
puts "OCC24303"
puts "============"
puts ""
###############################
## Precision degradation for Geom2dGcc_Circ2d2TanRad in OCCT6.6.0.
###############################

pload QAcommands

set status 0

set info1 [OCC24303 4]
regexp {Solutions +([-0-9.+eE]+)} ${info1} full Solution
regexp {Distance += +([-0-9.+eE]+)} ${info1} full Distance

if { [info exists Sol4] } {
   set info2 [dump Sol4]
   set toler 10e-8
   regexp {Center +:([-0-9.+eE]+), +([-0-9.+eE]+)} ${info2} full CenterX CenterY
   regexp {XAxis +:([-0-9.+eE]+), +([-0-9.+eE]+)} ${info2} full XAxisX XAxisY
   regexp {YAxis +:([-0-9.+eE]+), +([-0-9.+eE]+)} ${info2} full YAxisX YAxisY
   regexp {Radius +:([-0-9.+eE]+)} ${info2} full Radius
   set good_CenterX 5
   set good_CenterY 0
   set good_XAxisX 1
   set good_XAxisY 0
   set good_YAxisX 0
   set good_YAxisY 1
   set good_Radius 3
   if {[expr abs(${CenterX} - ${good_CenterX}) > $toler]} {
      puts "Faulty : Bad CenterX"
      set status 1
   }
   if {[expr abs(${CenterY} - ${good_CenterY}) > $toler]} {
      puts "Faulty : Bad CenterY"
      set status 1
   }
   if {[expr abs(${XAxisX} - ${good_XAxisX}) > $toler]} {
      puts "Faulty : Bad XAxisX"
      set status 1
   }
   if {[expr abs(${XAxisY} - ${good_XAxisY}) > $toler]} {
      puts "Faulty : Bad XAxisY"
      set status 1
   }
   if {[expr abs(${YAxisX} - ${good_YAxisX}) > $toler]} {
      puts "Faulty : Bad YAxisX"
      set status 1
   }
   if {[expr abs(${YAxisY} - ${good_YAxisY}) > $toler]} {
      puts "Faulty : Bad YAxisY"
       set status 1
  }
   if {[expr abs(${Radius} - ${good_Radius}) > $toler]} {
      puts "Faulty : Bad Radius"
      set status 1
   }
   } else {
   puts "Faulty : Bad solution"
   set status 1
}

if { ${status} != 0 } {
    puts "Faulty : solution is wrong"
} else {
    puts "OK : solution is correct"
}
