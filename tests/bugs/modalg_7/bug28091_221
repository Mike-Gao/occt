puts "============"
puts "OCC28091"
puts "============"
puts ""
######################################################
# Creation of test cases in order to provide simple porting Hole detection algorithm to new OCCT-version
######################################################

# IsCorrectCoincindence method

restore [locate_data_file bug28091_topfband.brep] srcshape

# Test

foreach a [ directory fcan* ] { unset $a }

cylinder cylf3 491.80421356003006000000 105.76550774698399000000 25.54655900989227700000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -0.63570725286187879000 0.77193023561640817000 6.46080374259369440000
mkface fcan3 cylf3 0.0 6.28318530717958620000 -26.44847984267988700000 52.89695968535977500000

cylinder cylf4 492.35112239211998000000 105.76550774698248000000 25.54655900989104800000 1.00000000000000000000 0.00000000000000000000 0.00000000000000027434 0.00000000000000021177 0.63570725286087926000 -0.77193023561723129000 6.46080374259369970000
mkface fcan4 cylf4 0.0 6.28318530717958620000 -26.99538867476979900000 52.35005085326986300000

cylinder cylf5 468.62127160128477000000 106.75790520822676000000 50.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -0.78631833882254676000 0.61782155193174559000 0.00000000000000000000 24.35252918188169200000
mkface fcan5 cylf5 0.0 6.28318530717958620000 -50.00000000000000000000 100.00000000000000000000

cylinder cylf6 468.62127160128762000000 106.75790520823034000000 49.99999999999999300000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.78631833882244750000 -0.61782155193187183000 0.00000000000000000000 24.35252918188169200000
mkface fcan6 cylf6 0.0 6.28318530717958620000 -50.00000000000000700000 100.00000000000000000000

sewing sh srcshape
eval compound [ explode sh w ] cmpwir

compound result
foreach ff [ directory fcan* ] {
  copy cmpwir cco
  bclearobjects 
  bcleartools
  eval baddobjects [explode cco]
  baddtools $ff
  bfillds
  bbuild fc
  foreach fr [explode fc f] {
    add $fr result
  }  
}

checknbshapes result -face 18
checkshape result
checkprops result -s 52345.4

checkview -display result -2d -path ${imagedir}/${test_image}.png 
