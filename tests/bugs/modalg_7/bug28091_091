puts "============"
puts "OCC28091"
puts "============"
puts ""
######################################################
# Creation of test cases in order to provide simple porting Hole detection algorithm to new OCCT-version
######################################################

# IsCorrectCoincindence method

restore [locate_data_file bug28091_facade.brep] srcshape

# Test

foreach a [ directory fcan* ] { unset $a }

cylinder cylf17 360.64999999999998000000 363.50000000000000000000 46.70113780300000200000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.50000000000000000000
mkface fcan17 cylf17 0.0 6.28318530717958620000 -4.87628283299999770000 9.75256566599999530000

cylinder cylf18 291.64999999999998000000 363.50000000000000000000 22.38363787700000200000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 2.50000000000000000000
mkface fcan18 cylf18 0.0 6.28318530717958620000 -11.48500773700000400000 22.97001547400000700000

cylinder cylf19 227.65000000000001000000 70.20000000000000300000 10.60964709900000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 2.50000000000000000000
mkface fcan19 cylf19 0.0 6.28318530717958620000 -10.28517150400000100000 20.57034300800000200000

cylinder cylf20 243.65000000000001000000 70.20000000000000300000 5.00403228700000020000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.50000000000000000000
mkface fcan20 cylf20 0.0 6.28318530717958620000 -3.34387928367726370000 6.68775856735452750000

cylinder cylf21 243.65000000000001000000 363.50000000000000000000 5.00403228700000020000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.50000000000000000000
mkface fcan21 cylf21 0.0 6.28318530717958620000 -3.34387928367726370000 6.68775856735452750000

cylinder cylf23 62.64999999999999900000 363.50000000000000000000 46.70113780300000200000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.50000000000000000000
mkface fcan23 cylf23 0.0 6.28318530717958620000 -4.87628283300001190000 9.75256566600002370000

cylinder cylf24 131.65000000000001000000 363.50000000000000000000 22.38363787700000200000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 2.50000000000000000000
mkface fcan24 cylf24 0.0 6.28318530717958620000 -11.48500773700000000000 22.97001547400000000000

cylinder cylf25 195.65000000000001000000 70.20000000000000300000 10.60964709900000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 2.50000000000000000000
mkface fcan25 cylf25 0.0 6.28318530717958620000 -10.28517150400000100000 20.57034300800000200000

cylinder cylf26 179.65000000000001000000 70.20000000000000300000 5.00403228700000020000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.50000000000000000000
mkface fcan26 cylf26 0.0 6.28318530717958620000 -3.34387906900000020000 6.68775813800000040000

cylinder cylf27 179.65000000000001000000 363.50000000000000000000 5.00403228700000020000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.50000000000000000000
mkface fcan27 cylf27 0.0 6.28318530717958620000 -3.34387906900000020000 6.68775813800000040000

cylinder cylf29 243.65000000000001000000 363.50000000000000000000 5.00403228700000020000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.50000000000000000000
mkface fcan29 cylf29 0.0 6.28318530717958620000 -3.34387928367726370000 6.68775856735452750000

cylinder cylf31 179.65000000000001000000 363.50000000000000000000 5.00403228700000020000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.50000000000000000000
mkface fcan31 cylf31 0.0 6.28318530717958620000 -3.34387906900000020000 6.68775813800000040000

cylinder cylf33 243.65000000000001000000 70.20000000000000300000 5.00403228700000020000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.50000000000000000000
mkface fcan33 cylf33 0.0 6.28318530717958620000 -3.34387928367726370000 6.68775856735452750000

cylinder cylf35 179.65000000000001000000 70.20000000000000300000 5.00403228700000020000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.50000000000000000000
mkface fcan35 cylf35 0.0 6.28318530717958620000 -3.34387906900000020000 6.68775813800000040000

cylinder cylf37 195.65000000000001000000 70.20000000000000300000 10.60964709900000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 2.50000000000000000000
mkface fcan37 cylf37 0.0 6.28318530717958620000 -10.28517150400000100000 20.57034300800000200000

cylinder cylf39 227.65000000000001000000 70.20000000000000300000 10.60964709900000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 2.50000000000000000000
mkface fcan39 cylf39 0.0 6.28318530717958620000 -10.28517150400000100000 20.57034300800000200000

cylinder cylf41 131.65000000000001000000 363.50000000000000000000 22.38363787700000200000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 2.50000000000000000000
mkface fcan41 cylf41 0.0 6.28318530717958620000 -11.48500773700000000000 22.97001547400000000000

cylinder cylf43 291.64999999999998000000 363.50000000000000000000 22.38363787700000200000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 2.50000000000000000000
mkface fcan43 cylf43 0.0 6.28318530717958620000 -11.48500773700000400000 22.97001547400000700000

cylinder cylf45 62.64999999999999900000 363.50000000000000000000 46.70113780300000200000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.50000000000000000000
mkface fcan45 cylf45 0.0 6.28318530717958620000 -4.87628283300001190000 9.75256566600002370000

cylinder cylf47 360.64999999999998000000 363.50000000000000000000 46.70113780300000200000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.50000000000000000000
mkface fcan47 cylf47 0.0 6.28318530717958620000 -4.87628283299999770000 9.75256566599999530000

sewing sh srcshape
eval compound [ explode sh w ] cmpwir

compound result
foreach ff [ directory fcan* ] {
  copy cmpwir cco
  bclearobjects 
  bcleartools
  eval baddobjects [explode cco]
  baddtools $ff
  bfillds
  bbuild fc
  foreach fr [explode fc f] {
    add $fr result
  }  
}

checknbshapes result -face 80
checkshape result
checkprops result -s 5411.44

checkview -display result -2d -path ${imagedir}/${test_image}.png 
