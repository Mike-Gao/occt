puts "============"
puts "OCC28091"
puts "============"
puts ""
######################################################
# Creation of test cases in order to provide simple porting Hole detection algorithm to new OCCT-version
######################################################

# IsCorrectCoincindence method

restore [locate_data_file bug28091_erkennung.brep] srcshape

# Test 
foreach a [ directory fcan* ] { unset $a }

cylinder cylf16 181.18212421774314000000 903.93091053446506000000 108.57178024049000000000 0.00000000000000000000 -0.17218151261965906000 0.98506523982526473000 -0.00000000000125055521 -0.98506523982526473000 -0.17218151261965906000 2.50000000000189670000
mkface fcan16 cylf16 0.0 6.28318530717958620000 -11.00152290505177900000 22.00304581010355800000

cylinder cylf18 533.11166624520547000000 909.13628791183999000000 109.48851196680999000000 -0.00000000000043401693 -0.17470472026778228000 0.98462087156232680000 -0.00000000000218278728 -0.98462087156232680000 -0.17470472026778228000 2.50000000000420020000
mkface fcan18 cylf18 0.0 6.28318530717958620000 -11.00152290504814800000 22.00304581009629600000

cylinder cylf20 323.29210911765227000000 597.76504495086999000000 78.34443162257500100000 0.00000000000000516687 -0.02377343429548441100 0.99971737197159793000 -0.00000000000090949470 -0.99971737197159793000 -0.02377343429548441100 2.50000000000103210000
mkface fcan20 cylf20 0.0 6.28318530717958620000 -11.00152290504753000000 22.00304581009506000000

cylinder cylf22 532.96364767070031000000 212.17343598378500000000 105.39773974697000000000 0.00000000000000000000 0.16313476200477076000 0.98660379556620748000 -0.00000000000013642421 -0.98660379556620748000 0.16313476200477076000 2.49999999999914250000
mkface fcan22 cylf22 0.0 6.28318530717958620000 -11.00152290504950200000 22.00304581009900300000

cylinder cylf24 183.23094404108116000000 249.77855872140998000000 99.53557513095049100000 0.00000000000002066747 0.14490639422097762000 0.98944536833211494000 -0.00000000000046611603 -0.98944536833211494000 0.14490639422097762000 2.49999999999987830000
mkface fcan24 cylf24 0.0 6.28318530717958620000 -11.00152290504230200000 22.00304581008460400000

sewing sh srcshape
eval compound [ explode sh w ] cmpwir

compound result
foreach ff [ directory fcan* ] {
  copy cmpwir cco
  bclearobjects 
  bcleartools
  eval baddobjects [explode cco]
  baddtools $ff
  bfillds
  bbuild fc
  foreach fr [explode fc f] {
    add $fr result
  }  
}

checknbshapes result -face 15
checkshape result
checkprops result -s 2592.17

checkview -display result -2d -path ${imagedir}/${test_image}.png 
