puts "============"
puts "OCC28091"
puts "============"
puts ""
######################################################
# Creation of test cases in order to provide simple porting Hole detection algorithm to new OCCT-version
######################################################

# IsCorrectCoincindence method

restore [locate_data_file bug28091_LG3.brep] srcshape

# Test

foreach a [ directory fcan* ] { unset $a }

cylinder cylf1 -0.00000000000000710543 187.50000000000000000000 28.25000000000000000000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 3.25000000000000000000
mkface fcan1 cylf1 0.0 6.28318530717958620000 -56.50000000000011400000 113.00000000000011000000

cylinder cylf2 -0.00000000000004263256 187.50000000000000000000 28.25000000000000000000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 3.25000000000000000000
mkface fcan2 cylf2 0.0 6.28318530717958620000 -56.50000000000007800000 113.00000000000016000000

cylinder cylf3 22.00000000000000000000 220.00000000000000000000 -0.00000000000004263256 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -0.00000000000000000000 3.25000000000000000000
mkface fcan3 cylf3 0.0 6.28318530717958620000 -56.50000000000011400000 113.00000000000011000000

cylinder cylf4 22.00000000000000000000 220.00000000000000000000 -0.00000000000007815970 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 1.00000000000000000000 -0.00000000000000000000 0.00000000000000000000 3.25000000000000000000
mkface fcan4 cylf4 0.0 6.28318530717958620000 -56.50000000000007800000 113.00000000000016000000

cylinder cylf5 34.50000000000000000000 155.00000000000000000000 -0.00000000000004263256 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -0.00000000000000000000 3.25000000000000000000
mkface fcan5 cylf5 0.0 6.28318530717958620000 -56.50000000000011400000 113.00000000000011000000

cylinder cylf6 34.50000000000000000000 155.00000000000000000000 -0.00000000000007815970 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 1.00000000000000000000 -0.00000000000000000000 0.00000000000000000000 3.25000000000000000000
mkface fcan6 cylf6 0.0 6.28318530717958620000 -56.50000000000007800000 113.00000000000016000000

sewing sh srcshape
eval compound [ explode sh w ] cmpwir

compound result
foreach ff [ directory fcan* ] {
  copy cmpwir cco
  bclearobjects 
  bcleartools
  eval baddobjects [explode cco]
  baddtools $ff
  bfillds
  bbuild fc
  foreach fr [explode fc f] {
    add $fr result
  }  
}

checknbshapes result -face 24
checkshape result
checkprops result -s 20767.5

checkview -display result -2d -path ${imagedir}/${test_image}.png 
