puts "============"
puts "OCC28091"
puts "============"
puts ""
######################################################
# Creation of test cases in order to provide simple porting Hole detection algorithm to new OCCT-version
######################################################

# IsCorrectCoincindence method

restore [locate_data_file bug28091_B8S1E3.brep] srcshape

# Test

foreach a [ directory fcan* ] { unset $a }

cylinder cylf7 141.13896526834921000000 -57.63193079361478500000 97.15840195887491900000 0.02162606708575492600 0.98861031704748348000 0.14893607437312376000 0.10558363375035876000 0.14587943147697713000 -0.98365201558072568000 4.99999999999032330000
mkface fcan7 cylf7 0.0 6.28318530717958620000 -26.99999999999790700000 53.99999999999581500000

cylinder cylf9 445.15687260000703000000 -62.15630418040014900000 83.04584085044795900000 0.02162606708540712100 0.98861031704746383000 0.14893607437330450000 -0.00278266340739225780 0.14902985777620223000 -0.98882878107161010000 5.00000000000472420000
mkface fcan9 cylf9 0.0 6.28318530717958620000 -26.99999999999844700000 53.99999999999689500000

cylinder cylf12 588.72101965685874000000 15.67554118886477700000 126.61932856435985000000 -0.10251720411314132000 0.00966313604260033400 -0.99468429497134758000 -0.88913830517857795000 0.44745921534553212000 0.09598606600193090900 2.49999999999644020000
mkface fcan12 cylf12 0.0 6.28318530717958620000 -51.35083742078565200000 102.70167484157130000000

cylinder cylf14 586.74596222808225000000 217.10615429302783000000 133.97492360324981000000 -0.10251720411309666000 0.00966313604271867680 -0.99468429497135102000 -0.88913830517686743000 0.44745921534895838000 0.09598606600180087400 2.49999999999656670000
mkface fcan14 cylf14 0.0 6.28318530717958620000 -50.36936729123464600000 100.73873458246929000000

cylinder cylf16 580.65091872494509000000 417.98823099055784000000 121.03408927474632000000 -0.10251720411306277000 0.00966313604280121150 -0.99468429497135369000 -0.88913830517687764000 0.44745921534893685000 0.09598606600180831200 2.50000000000150100000
mkface fcan16 cylf16 0.0 6.28318530717958620000 -50.84612207431043600000 101.69224414862087000000

cylinder cylf18 5.01819988872060210000 342.23441510029500000000 199.58259100209798000000 0.15458533910933014000 0.03542900097478081400 -0.98734399214376256000 -0.81534274695804210000 0.56896035109838550000 -0.10723956294631339000 2.50000000000244250000
mkface fcan18 cylf18 0.0 6.28318530717958620000 -50.93723923133917700000 101.87447846267835000000

cylinder cylf20 8.30947167935516970000 173.34730890862892000000 198.05857890514847000000 0.15458533910919400000 0.03542900097451194600 -0.98734399214379354000 -0.81534274695910369000 0.56896035109681486000 -0.10723956294657509000 2.49999999999980500000
mkface fcan20 cylf20 0.0 6.28318530717958620000 -50.47370691608583100000 100.94741383217166000000

cylinder cylf22 10.29805893765549900000 4.78779028587434660000 182.14690040452001000000 0.15458533910915162000 0.03542900097443971900 -0.98734399214380286000 -0.81534274696012676000 0.56896035109530729000 -0.10723956294679496000 2.50000000000226970000
mkface fcan22 cylf22 0.0 6.28318530717958620000 -51.22995051893082800000 102.45990103786166000000

sewing sh srcshape
eval compound [ explode sh w ] cmpwir

compound result
foreach ff [ directory fcan* ] {
  copy cmpwir cco
  bclearobjects 
  bcleartools
  eval baddobjects [explode cco]
  baddtools $ff
  bfillds
  bbuild fc
  foreach fr [explode fc f] {
    add $fr result
  }  
}

checknbshapes result -face 24
checkshape result
checkprops result -s 19471.9

checkview -display result -2d -path ${imagedir}/${test_image}.png 
