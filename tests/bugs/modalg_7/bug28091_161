puts "============"
puts "OCC28091"
puts "============"
puts ""
######################################################
# Creation of test cases in order to provide simple porting Hole detection algorithm to new OCCT-version
######################################################

# IsCorrectCoincindence method

restore [locate_data_file bug28091_PL004-LegTimber1.brep] srcshape

# Test

foreach a [ directory fcan* ] { unset $a }

cylinder cylf24 48.78457060509499900000 165.18622162966000000000 1.00000000000000000000 -0.28034446925607709000 -0.95989946273426396000 0.00000000000000000000 -0.67875141935661720000 0.19823347527908516000 -0.70710678118665637000 1.00000000000000000000
mkface fcan24 cylf24 0.0 6.28318530717958620000 -1223.51766638117530000000 867.32630001040116000000

cylinder cylf29 17.49915534244100000000 2.75000000000000000000 21.50000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 4.75000000000000000000
mkface fcan29 cylf29 0.0 6.28318530717958620000 -17.25000000000000000000 34.50000000000000000000

cylinder cylf30 17.49915534244100000000 0.00000000000000000000 21.50000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 7.00000000000000000000
mkface fcan30 cylf30 0.0 6.28318530717958620000 -0.50000000000001998000 1.00000000000004000000

cylinder cylf34 72.10916478122800300000 1.00000000000000000000 42.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -0.70710678118654757000 0.70710678118654757000 1.00000000000000000000
mkface fcan34 cylf34 0.0 6.28318530717958620000 16.79393532711199600000 97.51692484838299900000

cylinder cylf39 183.95619993240999000000 481.13794094135000000000 42.00000000000000000000 -0.30754403962399746000 -0.95153384789599227000 0.00000000000000000000 0.67283603637557454000 -0.21746647593156482000 0.70710678118676873000 1.00000000000000000000
mkface fcan39 cylf39 0.0 6.28318530717958620000 -901.92092371323815000000 1207.30514789491330000000

sewing sh srcshape
fixshape sh sh
eval compound [ explode sh w ] cmpwir

compound result
foreach ff [ directory fcan* ] {
  copy cmpwir cco
  bclearobjects 
  bcleartools
  eval baddobjects [explode cco]
  baddtools $ff
  bfillds
  bbuild fc
  foreach fr [explode fc f] {
    add $fr result
  }  
}

checknbshapes result -face 17
checkshape result
checkprops result -s 28507.5

checkview -display result -2d -path ${imagedir}/${test_image}.png 
