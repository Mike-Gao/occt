puts "============"
puts "OCC28091"
puts "============"
puts ""
######################################################
# Creation of test cases in order to provide simple porting Hole detection algorithm to new OCCT-version
######################################################

puts "TODO OCC28091 ALL: Faulty shapes in variables faulty_1 to faulty_4"

# IsCorrectCoincindence method

restore [locate_data_file bug28091_PL004-LegTimber.brep] srcshape

# Test

foreach a [ directory fcan* ] { unset $a }

cylinder cylf1 174.35549121620761000000 545.72901777396430000000 9.67500000000000070000 0.95153384789599194000 -0.30754403962399840000 0.00000000000000000000 -0.21746647593191884000 -0.67283603637666756000 -0.70710678118561976000 3.17500000000372570000
mkface fcan1 cylf1 0.0 6.28318530717958620000 -29.50000000000546400000 59.00000000001092800000

cylinder cylf7 202.42573972914468000000 536.65646860506354000000 33.32500000000000300000 -0.95153384789628448000 0.30754403962309296000 0.00000000000000000000 -0.21746647593121668000 -0.67283603637668277000 0.70710678118582115000 3.17500000000283980000
mkface fcan7 cylf7 0.0 6.28318530717958620000 -29.50000000000544300000 59.00000000001088600000

cylinder cylf8 182.60536007912032000000 571.25391324377097000000 21.50000000000000000000 -0.95153384789600015000 0.30754403962397237000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 12.00000000000000200000
mkface fcan8 cylf8 0.0 6.28318530717958620000 -1.50000000000697690000 3.00000000001395370000

cylinder cylf10 204.13344285278029000000 637.86128259650104000000 21.50000000000000000000 -0.95153384789598949000 0.30754403962400562000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 12.00000000000000200000
mkface fcan10 cylf10 0.0 6.28318530717958620000 -1.50000000000385760000 3.00000000000771520000

cylinder cylf12 202.70614208093605000000 638.32259865593596000000 21.50000000000000000000 -0.95153384789599138000 0.30754403962399984000 0.00000000000000000000 -0.00000000000000067206 -0.00000000000000207932 1.00000000000000000000 4.00000000000000000000
mkface fcan12 cylf12 0.0 6.28318530717958620000 -13.94379826353244100000 27.88759652706488300000

cylinder cylf14 187.20782183225214000000 643.33179094814761000000 21.50000000000000000000 0.95153384789594098000 -0.30754403962415555000 0.00000000000000000000 -0.30754403962415555000 -0.95153384789594109000 0.00000000000000000000 6.00000000000202330000
mkface fcan14 cylf14 0.0 6.28318530717958620000 -0.34401364011203833000 0.68802728022407666000

cylinder cylf15 181.17805930727604000000 571.71522930320589000000 21.50000000000000000000 -0.95153384789599194000 0.30754403962399779000 0.00000000000000000000 -0.00000000000000067206 -0.00000000000000207932 1.00000000000000000000 4.00000000000000000000
mkface fcan15 cylf15 0.0 6.28318530717958620000 -11.95120398359083000000 23.90240796718165900000

cylinder cylf17 167.57575996108213000000 576.11161110123760000000 21.50000000000000000000 0.95153384789603768000 -0.30754403962385635000 0.00000000000000000000 -0.30754403962385635000 -0.95153384789603768000 0.00000000000000000000 6.00000000000263430000
mkface fcan17 cylf17 0.0 6.28318530717958620000 -0.34401364011200330000 0.68802728022400661000

cylinder cylf18 228.18375988055999000000 671.50000000000000000000 6.00000000000000000000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -0.00000000000000000000 0.70710678118654757000 0.70710678118654757000 0.50000000000000000000
mkface fcan18 cylf18 0.0 6.28318530717958620000 -42.80642219609004000000 46.07887396876003500000

cylinder cylf23 228.18375988055999000000 671.50000000000000000000 37.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.70710678118654757000 -0.70710678118654757000 0.50000000000000000000
mkface fcan23 cylf23 0.0 6.28318530717958620000 -46.07887396876103000000 42.80642219609202900000

cylinder cylf29 183.95619993240999000000 481.13794094135000000000 1.00000000000000000000 -0.30754403962399746000 -0.95153384789599227000 0.00000000000000000000 0.67283603637557454000 -0.21746647593156482000 -0.70710678118676873000 1.00000000000000000000
mkface fcan29 cylf29 0.0 6.28318530717958620000 -901.92092371323724000000 1207.30514789492010000000

cylinder cylf31 180.70729562234001000000 671.00000000000000000000 1.00000000000000000000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.70710678118654757000 -0.70710678118654757000 1.00000000000000000000
mkface fcan31 cylf31 0.0 6.28318530717958620000 -31.57066316613799000000 111.67569084111099000000

cylinder cylf33 48.78457060509499900000 165.18622162966000000000 1.00000000000000000000 -0.28034446925607709000 -0.95989946273426396000 0.00000000000000000000 -0.67875141935661720000 0.19823347527908516000 -0.70710678118665637000 1.00000000000000000000
mkface fcan33 cylf33 0.0 6.28318530717958620000 -1223.51766638117530000000 867.32630001040116000000

cylinder cylf35 72.10916478122800300000 1.00000000000000000000 1.00000000000000000000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -0.70710678118654757000 -0.70710678118654757000 1.00000000000000000000
mkface fcan35 cylf35 0.0 6.28318530717958620000 -97.51692484838000000000 -16.79393532710000200000

cylinder cylf40 17.49915534244100000000 2.75000000000000000000 21.50000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 4.75000000000000000000
mkface fcan40 cylf40 0.0 6.28318530717958620000 -17.25000000000000000000 34.50000000000000000000

cylinder cylf41 17.49915534244100000000 0.00000000000000000000 21.50000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 7.00000000000000000000
mkface fcan41 cylf41 0.0 6.28318530717958620000 -0.50000000000001998000 1.00000000000004000000

cylinder cylf45 72.10916478122800300000 1.00000000000000000000 42.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -0.70710678118654757000 0.70710678118654757000 1.00000000000000000000
mkface fcan45 cylf45 0.0 6.28318530717958620000 16.79393532711199600000 97.51692484838299900000

cylinder cylf47 48.78457060509499900000 165.18622162966000000000 42.00000000000000000000 -0.28034446925607709000 -0.95989946273426396000 0.00000000000000000000 -0.67875141935661720000 0.19823347527908516000 0.70710678118665637000 1.00000000000000000000
mkface fcan47 cylf47 0.0 6.28318530717958620000 -1223.51766638117620000000 867.32630001040764000000

cylinder cylf49 180.70729562234001000000 671.00000000000000000000 42.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.70710678118654757000 0.70710678118654757000 1.00000000000000000000
mkface fcan49 cylf49 0.0 6.28318530717958620000 -111.67569084110002000000 31.57066316614000800000

cylinder cylf51 183.95619993240999000000 481.13794094135000000000 42.00000000000000000000 -0.30754403962399746000 -0.95153384789599227000 0.00000000000000000000 0.67283603637557454000 -0.21746647593156482000 0.70710678118676873000 1.00000000000000000000
mkface fcan51 cylf51 0.0 6.28318530717958620000 -901.92092371323815000000 1207.30514789491330000000

sewing sh srcshape
eval compound [ explode sh w ] cmpwir

compound result
foreach ff [ directory fcan* ] {
  copy cmpwir cco
  bclearobjects 
  bcleartools
  eval baddobjects [explode cco]
  baddtools $ff
  bfillds
  bbuild fc
  foreach fr [explode fc f] {
    add $fr result
  }  
}

checknbshapes result -face 66
checkshape result
checkprops result -s 64002.9

checkview -display result -2d -path ${imagedir}/${test_image}.png 
