puts "============"
puts "OCC28091"
puts "============"
puts ""
######################################################
# Creation of test cases in order to provide simple porting Hole detection algorithm to new OCCT-version
######################################################

puts "TODO OCC28091 ALL: Faulty shapes in variables faulty_1 to faulty_49"

# IsCorrectCoincindence method

restore [locate_data_file bug28091_Cheese.brep] srcshape

# Test

foreach a [ directory fcan* ] { unset $a }

cylinder cylf1 60.00000000000000000000 80.00000000000000000000 78.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -0.00000000000000000000 17.50000000000000400000
mkface fcan1 cylf1 0.0 6.28318530717958620000 -22.00000000000000000000 44.00000000000000000000

cylinder cylf5 130.37424293882501000000 88.20815528236599300000 86.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 1.00000000000000000000 -0.00000000000066554170 0.00000000000000000000 6.00000000116500590000
mkface fcan5 cylf5 0.0 6.28318530717958620000 -14.00000000000000000000 28.00000000000000000000

cylinder cylf6 267.45509618075499000000 134.55015929529492000000 84.43199999999998800000 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 1.00000000000000000000 0.00000000000084791433 -0.00000000000000000000 5.99999999923498260000
mkface fcan6 cylf6 0.0 6.28318530717958620000 -15.56800000000001200000 31.13600000000002400000

cylinder cylf8 170.28161561493499000000 152.83457495140496000000 91.00000000000000000000 0.00000000000000000000 0.00000000000000631594 1.00000000000000000000 1.00000000000000000000 0.00000000000125766064 -0.00000000000000000000 3.99999999505500140000
mkface fcan8 cylf8 0.0 6.28318530717958620000 -9.00000000000000000000 18.00000000000000000000

cylinder cylf10 204.60548025404501000000 110.93342602177701000000 69.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 1.00000000000000000000 0.00000000000016275943 -0.00000000000000000000 18.33552388594501200000
mkface fcan10 cylf10 0.0 6.28318530717958620000 -31.00000000000001400000 62.00000000000002800000

cylinder cylf15 358.55873185822588000000 133.80451318072431000000 59.99994735312635900000 0.30908338989193723000 0.95103494052159243000 -0.00000000000000154623 -0.95103494052076865000 0.30908338989166950000 -0.00000131614099205028 17.50000000008950000000
mkface fcan15 cylf15 0.0 6.28318530717958620000 -9.19066500880500210000 18.38133001761000400000

cylinder cylf17 224.16329203660513000000 143.83549501511007000000 67.75910386022772500000 0.30908338989189549000 0.95103494052160586000 0.00000000000005934039 -0.95103494052078219000 0.30908338989162781000 -0.00000131614078671860 19.99999999524689900000
mkface fcan17 cylf17 0.0 6.28318530717958620000 -41.19061541702499300000 82.38123083404998700000

cylinder cylf19 287.32354610255459000000 144.33791613605808000000 30.39056416016740800000 0.30908338989181011000 0.95103494052163373000 0.00000000000011266280 -0.95103494052080995000 0.30908338989154238000 -0.00000131614078397067 11.99999999952954800000
mkface fcan19 cylf19 0.0 6.28318530717958620000 -21.19087794347910100000 42.38175588695820300000

cylinder cylf21 308.95637745096076000000 146.77087858510225000000 69.66668889824464400000 0.30908338989194878000 0.95103494052158855000 -0.00000000000000582864 -0.95103494052076487000 0.30908338989168110000 -0.00000131614106554930 9.99999999535817530000
mkface fcan21 cylf21 0.0 6.28318530717958620000 -12.19054108172832500000 24.38108216345665000000

cylinder cylf23 97.57605836056576700000 207.05760452769019000000 72.59321403503813000000 0.30908338989186906000 0.95103494052161452000 -0.00000000000001266907 -0.95103494052079096000 0.30908338989160139000 -0.00000131614100921789 13.00000000294487500000
mkface fcan23 cylf23 0.0 6.28318530717958620000 -20.19053440413856400000 40.38106880827712800000

cylinder cylf25 163.40657159830295000000 180.40504566528838000000 39.99968412531741500000 0.30908338989193634000 0.95103494052159265000 -0.00000000000003582220 -0.95103494052076898000 0.30908338989166867000 -0.00000131614104147862 10.00000000008939700000
mkface fcan25 cylf25 0.0 6.28318530717958620000 -25.19078668066805800000 50.38157336133611600000

cylinder cylf27 56.91192012263003600000 202.39790739043241000000 31.25451242605524600000 0.30908338989186823000 0.95103494052161475000 -0.00000000000000687790 -0.95103494052079107000 0.30908338989160056000 -0.00000131614101616116 15.00000000254694000000
mkface fcan27 cylf27 0.0 6.28318530717958620000 -37.19088833964083600000 74.38177667928167100000

cylinder cylf31 172.13973013524031000000 89.94009879723540700000 67.75932881005792300000 0.30908670962811158000 -0.95103386161128223000 0.00000000000001626341 -0.95103386161128223000 -0.30908670962811158000 -0.00000000000009023893 19.99999999515231500000
mkface fcan31 cylf31 0.0 6.28318530717958620000 -32.33033361186547000000 64.66066722373094000000

cylinder cylf32 100.43020655213624000000 52.61812517876313700000 69.66680890704111600000 0.30908670962811624000 -0.95103386161128067000 -0.00000000000003664855 -0.95103386161128067000 -0.30908670962811624000 -0.00000000000021174174 9.99999999526688480000
mkface fcan32 cylf32 0.0 6.28318530717958620000 -19.00025840509527300000 38.00051681019054700000

cylinder cylf34 50.20967343337242300000 41.55385106381065400000 60.00000000000005000000 0.30908670962808271000 -0.95103386161129155000 0.00000000000000088817 -0.95103386161129166000 -0.30908670962808277000 0.00000000000000406024 17.49999999999993600000
mkface fcan34 cylf34 0.0 6.28318530717958620000 -24.00021914674909200000 48.00043829349818500000

cylinder cylf37 308.71964140461739000000 122.41532036639870000000 72.59362315226593400000 0.30908670962814061000 -0.95103386161127268000 0.00000000000013669215 -0.95103386161127279000 -0.30908670962814067000 0.00000000000008198570 13.00000000285731300000
mkface fcan37 cylf37 0.0 6.28318530717958620000 -21.00042118362002300000 42.00084236724004700000

cylinder cylf38 117.73582563014271000000 63.49990055674456400000 30.39071025628624100000 0.30908670962811363000 -0.95103386161128156000 0.00000000000010006737 -0.95103386161128156000 -0.30908670962811363000 0.00000000000023033427 11.99999999944075500000
mkface fcan38 cylf38 0.0 6.28318530717958620000 -24.00017548845910300000 48.00035097691820600000

cylinder cylf40 243.50731285187388000000 93.86085437339265500000 40.00000000000155600000 0.30908670962809709000 -0.95103386161128689000 -0.00000000000014921098 -0.95103386161128689000 -0.30908670962809709000 -0.00000000000015560886 9.99999999999844210000
mkface fcan40 cylf40 0.0 6.28318530717958620000 -14.00028143263978100000 28.00056286527956200000

cylinder cylf42 347.83836944454447000000 122.51108870692718000000 31.25497054615716400000 0.30908670962821966000 -0.95103386161124714000 -0.00000000000006907790 -0.95103386161124714000 -0.30908670962821966000 -0.00000000000007768601 15.00000000245712800000
mkface fcan42 cylf42 0.0 6.28318530717958620000 -9.00034460211121610000 18.00068920422243200000

cylinder cylf45 60.00000000000000000000 180.00000000000000000000 85.57899999999997900000 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -0.00000000000000000000 7.50000000000000980000
mkface fcan45 cylf45 0.0 6.28318530717958620000 -14.42100000000002100000 28.84200000000004100000

sewing sh srcshape
fixshape sh sh
eval compound [ explode sh w ] cmpwir

compound result
foreach ff [ directory fcan* ] {
  copy cmpwir cco
  bclearobjects 
  bcleartools
  eval baddobjects [explode cco]
  baddtools $ff
  bfillds
  bbuild fc
  foreach fr [explode fc f] {
    add $fr result
  }  
}

checknbshapes result -face 125
checkshape result
checkprops result -s 109340

checkview -display result -2d -path ${imagedir}/${test_image}.png 
