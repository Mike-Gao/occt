puts "============"
puts "OCC28091"
puts "============"
puts ""
######################################################
# Creation of test cases in order to provide simple porting Hole detection algorithm to new OCCT-version
######################################################

# IsCorrectCoincindence method

restore [locate_data_file bug28091_616101.brep] srcshape

# Test

foreach a [ directory fcan* ] { unset $a }

cylinder cylf5 282.33707384194003000000 343.88276232635002000000 884.22469835152003000000 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 187.00000000000000000000
mkface fcan5 cylf5 0.0 6.28318530717958620000 -899.22469835150002000000 -854.22469835150002000000

cylinder cylf7 418.35216433317999000000 67.43903712333700200000 15.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 6.00000000000000000000
mkface fcan7 cylf7 0.0 6.28318530717958620000 -30.00000000000000000000 15.00000000000000000000

cylinder cylf8 146.32198335069000000000 67.43903712333700200000 15.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 6.00000000000000000000
mkface fcan8 cylf8 0.0 6.28318530717958620000 -30.00000000000000000000 15.00000000000000000000

cylinder cylf9 67.33707384193600400000 343.88276232633001000000 15.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 6.00000000000000000000
mkface fcan9 cylf9 0.0 6.28318530717958620000 -30.00000000000000000000 15.00000000000000000000

cylinder cylf10 282.33707384193002000000 557.88276232632995000000 15.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 6.00000000000000000000
mkface fcan10 cylf10 0.0 6.28318530717958620000 -30.00000000000000000000 15.00000000000000000000

cylinder cylf11 496.33707384193002000000 343.88276232633001000000 15.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 6.00000000000000000000
mkface fcan11 cylf11 0.0 6.28318530717958620000 -30.00000000000000000000 15.00000000000000000000

cylinder cylf12 282.33707384193002000000 129.88276232633001000000 15.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 6.00000000000000000000
mkface fcan12 cylf12 0.0 6.28318530717958620000 -30.00000000000000000000 15.00000000000000000000

sewing sh srcshape
eval compound [ explode sh w ] cmpwir

compound result
foreach ff [ directory fcan* ] {
  copy cmpwir cco
  bclearobjects 
  bcleartools
  eval baddobjects [explode cco]
  baddtools $ff
  bfillds
  bbuild fc
  foreach fr [explode fc f] {
    add $fr result
  }  
}

checknbshapes result -face 21
checkshape result
checkprops result -s 63051.8

checkview -display result -2d -path ${imagedir}/${test_image}.png 
