puts "============"
puts "OCC28091"
puts "============"
puts ""
######################################################
# Creation of test cases in order to provide simple porting Hole detection algorithm to new OCCT-version
######################################################

# IsCorrectCoincindence method

restore [locate_data_file bug28091_ZweiLoecher.brep] srcshape

# Test

foreach a [ directory fcan* ] { unset $a }

cylinder cylf2 -2.41553719864093220000 0.14748326353191971000 4.79387040381543980000 -1.00000000000000000000 0.00000000000000006108 0.00000000000000000000 -0.00000000000000003665 -0.59999999999989662000 0.80000000000007754000 3.10024878295539930000
mkface fcan2 cylf2 0.0 6.28318530717958620000 -5.90730210554406910000 11.81460421108813800000

cylinder cylf3 -0.00000000000000027756 -0.00000000000000016653 10.61879497430500100000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -0.45074535990066139000 0.89265257548949206000 0.00000000000000000000 4.04961392699701420000
mkface fcan3 cylf3 0.0 6.28318530717958620000 -10.61879497430500100000 21.23758994861000100000

cylinder cylf6 6.81078512702200010000 0.14748326353192007000 4.79387040381543980000 -1.00000000000000000000 0.00000000000000011998 0.00000000000000000000 -0.00000000000000007199 -0.59999999999989673000 0.80000000000007743000 3.10024878295540020000
mkface fcan6 cylf6 0.0 6.28318530717958620000 -4.39528925091800100000 8.79057850183600210000

cylinder cylf8 0.00000000000000022204 -0.00000000000000016653 10.61879497430500100000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.45074535990066139000 -0.89265257548949206000 0.00000000000000000000 4.04961392699701420000
mkface fcan8 cylf8 0.0 6.28318530717958620000 -10.61879497430500100000 21.23758994861000100000

cylinder cylf9 -2.77051479613699890000 0.14748326353208063000 4.79387040381555970000 -1.00000000000000000000 -0.00000000000000004499 0.00000000000000015997 -0.00000000000000015497 0.59999999999989662000 -0.80000000000007754000 3.10024878295539930000
mkface fcan9 cylf9 0.0 6.28318530717958620000 -6.26227970304013580000 11.45962661359207100000

cylinder cylf10 6.81078512702200010000 0.14748326353208038000 4.79387040381556060000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.59999999999989662000 -0.80000000000007765000 3.10024878295540020000
mkface fcan10 cylf10 0.0 6.28318530717958620000 -4.39528925091800100000 8.79057850183600210000

sewing sh srcshape
eval compound [ explode sh w ] cmpwir

compound result
foreach ff [ directory fcan* ] {
  copy cmpwir cco
  bclearobjects 
  bcleartools
  eval baddobjects [explode cco]
  baddtools $ff
  bfillds
  bbuild fc
  foreach fr [explode fc f] {
    add $fr result
  }  
}

checknbshapes result -face 32
checkshape result
checkprops result -s 2825.27

checkview -display result -2d -path ${imagedir}/${test_image}.png 
