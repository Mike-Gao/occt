puts "============"
puts "OCC28091"
puts "============"
puts ""
######################################################
# Creation of test cases in order to provide simple porting Hole detection algorithm to new OCCT-version
######################################################

# IsCorrectCoincindence method

restore [locate_data_file bug28091_BenchLeg.brep] srcshape

# Test

foreach a [ directory fcan* ] { unset $a }

cylinder cylf1 9.35849466038107990000 100.00000000000000000000 35.91936957356485000000 0.90707526697824037000 0.00000000000000000000 -0.42096847867311160000 -0.42096847867311160000 0.00000000000000000000 -0.90707526697824037000 4.99999999964020600000
mkface fcan1 cylf1 0.0 6.28318530717958620000 -20.00000000062103900000 40.00000000124205700000

cylinder cylf2 9.35849466038107280000 100.00000000000000000000 35.91936957356485000000 0.90707526697824037000 0.00000000000000000000 -0.42096847867311143000 -0.42096847867311149000 0.00000000000000000000 -0.90707526697824048000 4.99999999964020780000
mkface fcan2 cylf2 0.0 6.28318530717958620000 -20.00000000062103200000 40.00000000124206400000

cylinder cylf3 38.81370849916699900000 218.81370849900000000000 23.00000000000001800000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 5.00000000000000000000
mkface fcan3 cylf3 0.0 6.28318530717958620000 -23.00000000000004600000 46.00000000000005000000

cylinder cylf4 38.81370849916699900000 218.81370849900000000000 23.00000000000003200000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 5.00000000000000000000
mkface fcan4 cylf4 0.0 6.28318530717958620000 -23.00000000000003200000 46.00000000000006400000

cylinder cylf7 16.18629150116699800000 196.18629150100000000000 23.00000000000001800000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 4.99999999999999820000
mkface fcan7 cylf7 0.0 6.28318530717958620000 -23.00000000000004600000 46.00000000000005000000

cylinder cylf8 16.18629150116699800000 196.18629150100000000000 23.00000000000003200000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 4.99999999999999820000
mkface fcan8 cylf8 0.0 6.28318530717958620000 -23.00000000000003200000 46.00000000000006400000

cylinder cylf11 32.00000000016698500000 218.81370849900000000000 38.81370849900000100000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 5.00000000000000000000
mkface fcan11 cylf11 0.0 6.28318530717958620000 -23.00000000000005700000 46.00000000000005000000

cylinder cylf12 32.00000000016696300000 218.81370849900000000000 38.81370849900000100000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 5.00000000000000000000
mkface fcan12 cylf12 0.0 6.28318530717958620000 -23.00000000000003600000 46.00000000000007100000

cylinder cylf15 32.00000000016698500000 196.18629150100000000000 16.18629150099999900000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 5.00000000000000000000
mkface fcan15 cylf15 0.0 6.28318530717958620000 -23.00000000000005700000 46.00000000000005000000

cylinder cylf16 32.00000000016696300000 196.18629150100000000000 16.18629150099999900000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 5.00000000000000000000
mkface fcan16 cylf16 0.0 6.28318530717958620000 -23.00000000000003600000 46.00000000000007100000

sewing sh srcshape
eval compound [ explode sh w ] cmpwir

compound result
foreach ff [ directory fcan* ] {
  copy cmpwir cco
  bclearobjects 
  bcleartools
  eval baddobjects [explode cco]
  baddtools $ff
  bfillds
  bbuild fc
  foreach fr [explode fc f] {
    add $fr result
  }  
}

checknbshapes result -face 40
checkshape result
checkprops result -s 21111.5

checkview -display result -2d -path ${imagedir}/${test_image}.png 
