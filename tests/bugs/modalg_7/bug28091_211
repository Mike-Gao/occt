puts "============"
puts "OCC28091"
puts "============"
puts ""
######################################################
# Creation of test cases in order to provide simple porting Hole detection algorithm to new OCCT-version
######################################################

# IsCorrectCoincindence method

restore [locate_data_file bug28091_stufenbohrung_raum.brep] srcshape

# Test

foreach a [ directory fcan* ] { unset $a }

cylinder cylf2 13.96415221911059300000 20.33312885278546000000 8.39403909470043170000 0.28665012516266553000 -0.43666337015619089000 -0.85273489837584671000 0.81818652273592285000 0.57463162728371964000 -0.01921736034328927500 1.47068324618074060000
mkface fcan2 cylf2 0.0 6.28318530717958620000 -6.57208607325767690000 13.14417214651535400000

cylinder cylf3 13.96415221911054500000 20.33312885278552400000 8.39403909470038200000 0.28665012516261928000 -0.43666337015612605000 -0.85273489837589544000 -0.81818652273601888000 -0.57463162728358608000 0.01921736034318816500 1.47068324618073980000
mkface fcan3 cylf3 0.0 6.28318530717958620000 -6.57208607325767780000 13.14417214651535200000

cylinder cylf10 11.92790137880067300000 23.43501535609184600000 14.45153567662022300000 0.28665012516257687000 -0.43666337015618900000 -0.85273489837587746000 -0.12992951695926458000 0.86414424595672945000 -0.48618210868213541000 3.32307707578809670000
mkface fcan10 cylf10 0.0 6.28318530717958620000 -7.10361050480914540000 14.20722100961829100000

cylinder cylf11 11.92790137879992500000 23.43501535609164700000 14.45153567662007200000 0.28665012516268118000 -0.43666337015616163000 -0.85273489837585648000 0.12992951695933019000 -0.86414424595671213000 0.48618210868214867000 3.32307707578809670000
mkface fcan11 cylf11 0.0 6.28318530717958620000 -7.10361050480914620000 14.20722100961829100000

sewing sh srcshape
eval compound [ explode sh w ] cmpwir

compound result
foreach ff [ directory fcan* ] {
  copy cmpwir cco
  bclearobjects 
  bcleartools
  eval baddobjects [explode cco]
  baddtools $ff
  bfillds
  bbuild fc
  foreach fr [explode fc f] {
    add $fr result
  }  
}

checknbshapes result -face 16
checkshape result
checkprops result -s 1254.3

checkview -display result -2d -path ${imagedir}/${test_image}.png 
