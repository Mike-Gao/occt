puts "============"
puts "OCC28091"
puts "============"
puts ""
######################################################
# Creation of test cases in order to provide simple porting Hole detection algorithm to new OCCT-version
######################################################

# IsCorrectCoincindence method

restore [locate_data_file bug28091_ad1945.brep] srcshape

# Test

foreach a [ directory fcan* ] { unset $a }

cylinder cylf7 50.46515887431400000000 25.00000000000000000000 -5.00000000000000000000 -0.00000000000000698296 0.00000000000000011102 1.00000000000000000000 -1.00000000000000000000 -0.00000000000000000000 -0.00000000000000698296 3.00000000000000000000
mkface fcan7 cylf7 0.0 6.28318530717958620000 -0.00000000000000355271 15.00000000000000400000

cylinder cylf8 50.46515887431400000000 95.00000000000000000000 -5.00000000000000000000 -0.00000000000000698296 0.00000000000000011102 1.00000000000000000000 -1.00000000000000000000 -0.00000000000000000000 -0.00000000000000698296 3.00000000000000000000
mkface fcan8 cylf8 0.0 6.28318530717958620000 -0.00000000000000355271 15.00000000000000400000

cylinder cylf21 50.46515887431400000000 95.00000000000000000000 -5.00000000000000000000 -0.00000000000000698296 0.00000000000000011102 1.00000000000000000000 -1.00000000000000000000 -0.00000000000000000000 -0.00000000000000698296 3.00000000000000000000
mkface fcan21 cylf21 0.0 6.28318530717958620000 -0.00000000000000355271 15.00000000000000400000

cylinder cylf23 50.46515887431400000000 25.00000000000000000000 -5.00000000000000000000 -0.00000000000000698296 0.00000000000000011102 1.00000000000000000000 -1.00000000000000000000 -0.00000000000000000000 -0.00000000000000698296 3.00000000000000000000
mkface fcan23 cylf23 0.0 6.28318530717958620000 -0.00000000000000355271 15.00000000000000400000

sewing sh srcshape
eval compound [ explode sh w ] cmpwir

compound result
foreach ff [ directory fcan* ] {
  copy cmpwir cco
  bclearobjects 
  bcleartools
  eval baddobjects [explode cco]
  baddtools $ff
  bfillds
  bbuild fc
  foreach fr [explode fc f] {
    add $fr result
  }  
}

checknbshapes result -face 16
checkshape result
checkprops result -s 1130.97

checkview -display result -2d -path ${imagedir}/${test_image}.png 
