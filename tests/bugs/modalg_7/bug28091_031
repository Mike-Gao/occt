puts "============"
puts "OCC28091"
puts "============"
puts ""
######################################################
# Creation of test cases in order to provide simple porting Hole detection algorithm to new OCCT-version
######################################################

# IsCorrectCoincindence method

restore [locate_data_file bug28091_aufnahmeplatte.brep] srcshape

# Test

foreach a [ directory fcan* ] { unset $a }

cylinder cylf12 475.00000000000000000000 635.00000000000000000000 -0.00000000000000111022 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 3.50000000000000000000
mkface fcan12 cylf12 0.0 6.28318530717958620000 -12.40000000000000200000 24.80000000000000400000

cylinder cylf13 474.99999999999989000000 635.00000000000000000000 -0.00000000000000111022 0.00000000000000916829 0.00000000000000000000 1.00000000000000000000 0.00000000000003248195 1.00000000000000000000 -0.00000000000000000000 3.50000000000000000000
mkface fcan13 cylf13 0.0 6.28318530717958620000 -12.40000000000000200000 24.80000000000000400000

cylinder cylf14 475.00000000000000000000 635.00000000000000000000 12.39999999999999900000 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 5.50000000000000000000
mkface fcan14 cylf14 0.0 6.28318530717958620000 -12.60000000002581900000 25.20000000005163800000

cylinder cylf15 474.99999999999989000000 635.00000000000000000000 12.39999999999999900000 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000002067033 1.00000000000000000000 -0.00000000000000000000 5.50000000000000000000
mkface fcan15 cylf15 0.0 6.28318530717958620000 -12.60000000002581900000 25.20000000005163800000

cylinder cylf16 575.00000000000000000000 635.00000000000000000000 -0.00000000000000111022 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 3.50000000000000000000
mkface fcan16 cylf16 0.0 6.28318530717958620000 -12.40000000000000200000 24.80000000000000400000

cylinder cylf18 575.00000000000000000000 635.00000000000000000000 -0.00000000000000111022 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 -0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 3.50000000000003770000
mkface fcan18 cylf18 0.0 6.28318530717958620000 -12.40000000000000200000 24.80000000000000400000

cylinder cylf19 524.99999999999000000000 597.49999999999000000000 -0.00000000000000044409 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 22.50000000000000000000
mkface fcan19 cylf19 0.0 6.28318530717958620000 -9.00000000000000360000 18.00000000000000700000

cylinder cylf21 524.99999999999000000000 597.49999999999000000000 -0.00000000000000044409 0.00000000000000000000 -0.00000000000001263187 1.00000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000001263187 22.50000000000000000000
mkface fcan21 cylf21 0.0 6.28318530717958620000 -9.00000000000000360000 18.00000000000000700000

cylinder cylf22 575.00000000000000000000 635.00000000000000000000 12.39999999999999900000 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 5.50000000000000000000
mkface fcan22 cylf22 0.0 6.28318530717958620000 -12.60000000003306300000 25.20000000006612600000

cylinder cylf23 575.00000000000000000000 635.00000000000000000000 12.39999999999999900000 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 5.50000000000003820000
mkface fcan23 cylf23 0.0 6.28318530717958620000 -12.60000000003306300000 25.20000000006612600000

cylinder cylf24 524.99999999999000000000 597.49999999996908000000 24.99999999999998900000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -0.74428629599570628000 0.66786069624809630000 0.00000000000000000000 62.70000000002084300000
mkface fcan24 cylf24 0.0 6.28318530717958620000 -5.99999999999999290000 11.99999999999998600000

cylinder cylf25 524.99999999999000000000 597.49999999999386000000 25.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.84954643127679985000 0.52751384920668543000 0.00000000000000000000 62.70000000000379700000
mkface fcan25 cylf25 0.0 6.28318530717958620000 -6.00000000000000000000 12.00000000000000000000

cylinder cylf26 524.99999999999500000000 597.49999999999500000000 8.99999999999999820000 0.00000000000000000000 -0.00000000000001136868 1.00000000000000000000 -0.00000000000057598646 -1.00000000000000000000 -0.00000000000001136868 8.68461538461497180000
mkface fcan26 cylf26 0.0 6.28318530717958620000 -10.00000000000000500000 20.00000000000001100000

cylinder cylf27 524.99999999999500000000 597.49999999999500000000 8.99999999999999820000 0.00000000000000000000 -0.00000000000002273737 1.00000000000000000000 -0.00000000000057598646 1.00000000000000000000 0.00000000000002273737 8.68461538461500910000
mkface fcan27 cylf27 0.0 6.28318530717958620000 -10.00000000000000500000 20.00000000000001100000

sewing sh srcshape
eval compound [ explode sh w ] cmpwir

compound result
foreach ff [ directory fcan* ] {
  copy cmpwir cco
  bclearobjects 
  bcleartools
  eval baddobjects [explode cco]
  baddtools $ff
  bfillds
  bbuild fc
  foreach fr [explode fc f] {
    add $fr result
  }  
}

checknbshapes result -face 54
checkshape result
checkprops result -s 33587.9

checkview -display result -2d -path ${imagedir}/${test_image}.png 
