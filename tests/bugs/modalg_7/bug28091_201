puts "============"
puts "OCC28091"
puts "============"
puts ""
######################################################
# Creation of test cases in order to provide simple porting Hole detection algorithm to new OCCT-version
######################################################

# IsCorrectCoincindence method

restore [locate_data_file bug28091_stufenbohrung.brep] srcshape

# Test

foreach a [ directory fcan* ] { unset $a }

cylinder cylf2 10.08401639903200000000 20.59607727749099800000 11.89638949519100200000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.51367713933423498000 0.85798356425131883000 0.00000000000000000000 1.47068324618091430000
mkface fcan2 cylf2 0.0 6.28318530717958620000 -6.57208607325800200000 13.14417214651600400000

cylinder cylf3 10.08401639903199900000 20.59607727749099800000 11.89638949519100200000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -0.51367713933423609000 -0.85798356425131828000 -0.00000000000000000000 1.47068324618091470000
mkface fcan3 cylf3 0.0 6.28318530717958620000 -6.57208607325800200000 13.14417214651600400000

cylinder cylf10 10.08401639903206300000 20.59607727749140000000 18.99999999999951700000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -0.58123819371922270000 0.81373347120664485000 0.00000000000000000000 3.32307707578849690000
mkface fcan10 cylf10 0.0 6.28318530717958620000 -7.10361050480951660000 14.20722100961903300000

cylinder cylf11 10.08401639903206600000 20.59607727749140300000 18.99999999999951300000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.58123819371888363000 -0.81373347120688710000 0.00000000000000000000 3.32307707578849550000
mkface fcan11 cylf11 0.0 6.28318530717958620000 -7.10361050480952020000 14.20722100961903000000

sewing sh srcshape
eval compound [ explode sh w ] cmpwir

compound result
foreach ff [ directory fcan* ] {
  copy cmpwir cco
  bclearobjects 
  bcleartools
  eval baddobjects [explode cco]
  baddtools $ff
  bfillds
  bbuild fc
  foreach fr [explode fc f] {
    add $fr result
  }  
}

checknbshapes result -face 16
checkshape result
checkprops result -s 1254.3

checkview -display result -2d -path ${imagedir}/${test_image}.png 
