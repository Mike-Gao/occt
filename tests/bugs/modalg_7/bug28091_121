puts "============"
puts "OCC28091"
puts "============"
puts ""
######################################################
# Creation of test cases in order to provide simple porting Hole detection algorithm to new OCCT-version
######################################################

# IsCorrectCoincindence method

restore [locate_data_file bug28091_kehlbohletest_ursprung.brep] srcshape

# Test

foreach a [ directory fcan* ] { unset $a }

cylinder cylf13 1736.12448682099990000000 14.21018183879000000000 20.49742474627500100000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 4.00000000000000090000
mkface fcan13 cylf13 0.0 6.28318530717958620000 -30.00000000000000000000 60.00000000000000000000

cylinder cylf16 1736.12448682099990000000 14.21018183879000100000 20.49742474627500100000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 4.00000000000000000000
mkface fcan16 cylf16 0.0 6.28318530717958620000 -30.00000000000000000000 60.00000000000000000000

cylinder cylf17 1686.12448682099990000000 14.21018183879000000000 20.49742474627500100000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 4.00000000000000090000
mkface fcan17 cylf17 0.0 6.28318530717958620000 -30.00000000000000000000 60.00000000000000000000

cylinder cylf20 1686.12448682099990000000 14.21018183879000100000 20.49742474627500100000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 4.00000000000000000000
mkface fcan20 cylf20 0.0 6.28318530717958620000 -30.00000000000000000000 60.00000000000000000000

cylinder cylf21 1636.12448682099990000000 14.21018183879000000000 20.49742474627500100000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 4.00000000000000090000
mkface fcan21 cylf21 0.0 6.28318530717958620000 -30.00000000000000000000 60.00000000000000000000

cylinder cylf24 1636.12448682099990000000 14.21018183879000100000 20.49742474627500100000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 4.00000000000000000000
mkface fcan24 cylf24 0.0 6.28318530717958620000 -30.00000000000000000000 60.00000000000000000000

cylinder cylf25 1586.12448682099970000000 14.21018183879000000000 20.49742474627500100000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 4.00000000000000090000
mkface fcan25 cylf25 0.0 6.28318530717958620000 -30.00000000000000000000 60.00000000000000000000

cylinder cylf28 1586.12448682100010000000 14.21018183879000100000 20.49742474627500100000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 4.00000000000000000000
mkface fcan28 cylf28 0.0 6.28318530717958620000 -30.00000000000000000000 60.00000000000000000000

cylinder cylf29 1536.12448682100010000000 14.21018183879000000000 20.49742474627500100000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 4.00000000000000090000
mkface fcan29 cylf29 0.0 6.28318530717958620000 -30.00000000000000000000 60.00000000000000000000

cylinder cylf32 1536.12448682100010000000 14.21018183879000100000 20.49742474627500100000 0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 4.00000000000000000000
mkface fcan32 cylf32 0.0 6.28318530717958620000 -30.00000000000000000000 60.00000000000000000000

cylinder cylf33 20.14835165769899900000 3283.32128306100000000000 20.51156429655900100000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 4.00000000000000000000
mkface fcan33 cylf33 0.0 6.28318530717958620000 -30.00000000000000400000 60.00000000000000700000

cylinder cylf36 20.14835165769899900000 3283.32128306100000000000 20.51156429655900500000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -0.00000000000000088818 4.00000000000000000000
mkface fcan36 cylf36 0.0 6.28318530717958620000 -30.00000000000000400000 60.00000000000000700000

cylinder cylf37 20.14835165769899900000 3193.32128306100000000000 20.51156429655900100000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 4.00000000000000000000
mkface fcan37 cylf37 0.0 6.28318530717958620000 -30.00000000000000400000 60.00000000000000700000

cylinder cylf40 20.14835165769899900000 3193.32128306100000000000 20.51156429655900500000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -0.00000000000000088818 4.00000000000000000000
mkface fcan40 cylf40 0.0 6.28318530717958620000 -30.00000000000000400000 60.00000000000000700000

cylinder cylf41 20.14835165769899900000 3103.32128306100000000000 20.51156429655900100000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 4.00000000000000000000
mkface fcan41 cylf41 0.0 6.28318530717958620000 -30.00000000000000400000 60.00000000000000700000

cylinder cylf44 20.14835165769899900000 3103.32128306100000000000 20.51156429655900500000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -0.00000000000000088818 4.00000000000000000000
mkface fcan44 cylf44 0.0 6.28318530717958620000 -30.00000000000000400000 60.00000000000000700000

cylinder cylf45 20.14835165769899900000 3013.32128306100000000000 20.51156429655900100000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 4.00000000000000000000
mkface fcan45 cylf45 0.0 6.28318530717958620000 -30.00000000000000400000 60.00000000000000700000

cylinder cylf48 20.14835165769899900000 3013.32128306100000000000 20.51156429655900500000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -0.00000000000000088818 4.00000000000000000000
mkface fcan48 cylf48 0.0 6.28318530717958620000 -30.00000000000000400000 60.00000000000000700000

cylinder cylf49 20.14835165769899900000 2923.32128306100000000000 20.51156429655900100000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 4.00000000000000000000
mkface fcan49 cylf49 0.0 6.28318530717958620000 -30.00000000000000400000 60.00000000000000700000

cylinder cylf52 20.14835165769899900000 2923.32128306100000000000 20.51156429655900500000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -0.00000000000000088818 4.00000000000000000000
mkface fcan52 cylf52 0.0 6.28318530717958620000 -30.00000000000000400000 60.00000000000000700000

cylinder cylf53 20.14835165769899900000 2833.32128306100000000000 20.51156429655900100000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 4.00000000000000000000
mkface fcan53 cylf53 0.0 6.28318530717958620000 -30.00000000000000400000 60.00000000000000700000

cylinder cylf56 20.14835165769899900000 2833.32128306100000000000 20.51156429655900500000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -0.00000000000000088818 4.00000000000000000000
mkface fcan56 cylf56 0.0 6.28318530717958620000 -30.00000000000000400000 60.00000000000000700000

cylinder cylf57 20.14835165769899900000 2743.32128306100000000000 20.51156429655900100000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -0.00000000000000000000 1.00000000000000000000 0.00000000000000000000 4.00000000000000000000
mkface fcan57 cylf57 0.0 6.28318530717958620000 -30.00000000000000400000 60.00000000000000700000

cylinder cylf60 20.14835165769899900000 2743.32128306100000000000 20.51156429655900500000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 -0.00000000000000088818 4.00000000000000000000
mkface fcan60 cylf60 0.0 6.28318530717958620000 -30.00000000000000400000 60.00000000000000700000

sewing sh srcshape
eval compound [ explode sh w ] cmpwir

compound result
foreach ff [ directory fcan* ] {
  copy cmpwir cco
  bclearobjects 
  bcleartools
  eval baddobjects [explode cco]
  baddtools $ff
  bfillds
  bbuild fc
  foreach fr [explode fc f] {
    add $fr result
  }  
}

checknbshapes result -face 96
checkshape result
checkprops result -s 54286.7

checkview -display result -2d -path ${imagedir}/${test_image}.png 
