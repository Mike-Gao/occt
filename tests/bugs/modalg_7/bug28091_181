puts "============"
puts "OCC28091"
puts "============"
puts ""
######################################################
# Creation of test cases in order to provide simple porting Hole detection algorithm to new OCCT-version
######################################################

# IsCorrectCoincindence method

restore [locate_data_file bug28091_Platte_mit_Minifix.brep] srcshape

# Test 
foreach a [ directory fcan* ] { unset $a }

cylinder cylf7 0.00000000000000000000 40.00000000000000000000 19.00000000000000000000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -0.00000000000000000000 0.00000000000000142109 1.00000000000000000000 4.99999999999999910000
mkface fcan7 cylf7 0.0 6.28318530717958620000 -20.00000000000000000000 40.00000000000000000000

cylinder cylf9 0.00000000000000000000 515.00000000000000000000 19.00000000000000000000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -0.00000000000002273737 1.00000000000000000000 4.99999999999999910000
mkface fcan9 cylf9 0.0 6.28318530717958620000 -20.00000000000000000000 40.00000000000000000000

cylinder cylf11 0.00000000000000000000 277.50000000000000000000 19.00000000000000000000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -0.00000000000001136868 1.00000000000000000000 4.99999999999999910000
mkface fcan11 cylf11 0.0 6.28318530717958620000 -20.00000000000000000000 40.00000000000000000000

cylinder cylf13 0.00000000000000000000 490.00000000000000000000 19.00000000000000000000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -0.00000000000001894781 1.00000000000000000000 6.00000000000000000000
mkface fcan13 cylf13 0.0 6.28318530717958620000 -16.70849737787099800000 33.41699475574199600000

cylinder cylf14 27.29150262212899800000 490.00000000000000000000 19.00000000000000000000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 6.00000000000000000000
mkface fcan14 cylf14 0.0 6.28318530717958620000 -2.70849737787100150000 5.41699475574200310000

cylinder cylf16 27.29150262212899800000 490.00000000000000000000 19.00000000000000000000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 6.00000000000000000000
mkface fcan16 cylf16 0.0 6.28318530717958620000 -2.70849737787100150000 5.41699475574200310000

cylinder cylf17 21.99999999999999600000 490.00000000000000000000 38.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 1.00000000000000000000 -0.00000000000000000000 0.00000000000000000000 7.99999999999999730000
mkface fcan17 cylf17 0.0 6.28318530717958620000 -26.00000000000000000000 52.00000000000000000000

cylinder cylf18 0.00000000000000000000 65.00000000000001400000 19.00000000000000000000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -0.00000000000000473695 1.00000000000000000000 5.99999999999999560000
mkface fcan18 cylf18 0.0 6.28318530717958620000 -16.70849737787099800000 33.41699475574199600000

cylinder cylf19 27.29150262212899800000 65.00000000000000000000 19.00000000000000000000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 6.00000000000000000000
mkface fcan19 cylf19 0.0 6.28318530717958620000 -2.70849737787100150000 5.41699475574200310000

cylinder cylf21 27.29150262212899800000 65.00000000000000000000 19.00000000000000000000 1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 6.00000000000000000000
mkface fcan21 cylf21 0.0 6.28318530717958620000 -2.70849737787100150000 5.41699475574200310000

cylinder cylf22 21.99999999999999600000 65.00000000000001400000 38.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 1.00000000000000000000 -0.00000000000000355271 0.00000000000000000000 7.99999999999999290000
mkface fcan22 cylf22 0.0 6.28318530717958620000 -26.00000000000000000000 52.00000000000000000000

cylinder cylf29 577.99999999999989000000 490.00000000000006000000 38.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 1.00000000000000000000 -0.00000000000000710543 0.00000000000000000000 7.99999999999998130000
mkface fcan29 cylf29 0.0 6.28318530717958620000 -26.00000000000000000000 52.00000000000000000000

cylinder cylf30 600.00000000000000000000 490.00000000000000000000 19.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -0.00000000000000000000 -0.00000000000001894781 -1.00000000000000000000 6.00000000000000000000
mkface fcan30 cylf30 0.0 6.28318530717958620000 -16.70849737788012100000 33.41699475576024300000

cylinder cylf31 572.70849737787000000000 490.00000000000000000000 19.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 6.00000000000000000000
mkface fcan31 cylf31 0.0 6.28318530717958620000 -2.70849737787000320000 5.41699475574000640000

cylinder cylf35 577.99999999999989000000 65.00000000000005700000 38.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -1.00000000000000000000 1.00000000000000000000 -0.00000000000000888178 0.00000000000000000000 7.99999999999998130000
mkface fcan35 cylf35 0.0 6.28318530717958620000 -26.00000000000000000000 52.00000000000000000000

cylinder cylf36 600.00000000000000000000 65.00000000000001400000 19.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -0.00000000000000000000 -0.00000000000000473695 -1.00000000000000000000 5.99999999999999560000
mkface fcan36 cylf36 0.0 6.28318530717958620000 -16.70849737788012100000 33.41699475576024300000

cylinder cylf37 572.70849737787000000000 65.00000000000000000000 19.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 0.00000000000000000000 1.00000000000000000000 6.00000000000000000000
mkface fcan37 cylf37 0.0 6.28318530717958620000 -2.70849737787000320000 5.41699475574000640000

cylinder cylf43 600.00000000000000000000 277.50000000000006000000 19.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -0.00000000000000000000 -0.00000000000002273737 -1.00000000000000000000 4.99999999999997960000
mkface fcan43 cylf43 0.0 6.28318530717958620000 -20.00000000000000000000 40.00000000000000000000

cylinder cylf45 600.00000000000000000000 40.00000000000000700000 19.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -0.00000000000000000000 -0.00000000000000000000 -1.00000000000000000000 4.99999999999999640000
mkface fcan45 cylf45 0.0 6.28318530717958620000 -20.00000000000000000000 40.00000000000000000000

cylinder cylf47 600.00000000000000000000 515.00000000000011000000 19.00000000000000000000 -1.00000000000000000000 0.00000000000000000000 0.00000000000000000000 -0.00000000000000000000 -0.00000000000004547474 -1.00000000000000000000 4.99999999999996090000
mkface fcan47 cylf47 0.0 6.28318530717958620000 -20.00000000000000000000 40.00000000000000000000

sewing sh srcshape
eval compound [ explode sh w ] cmpwir

compound result
foreach ff [ directory fcan* ] {
  copy cmpwir cco
  bclearobjects 
  bcleartools
  eval baddobjects [explode cco]
  baddtools $ff
  bfillds
  bbuild fc
  foreach fr [explode fc f] {
    add $fr result
  }  
}

checknbshapes result -face 90
checkshape result
checkprops result -s 36389.3

checkview -display result -2d -path ${imagedir}/${test_image}.png 
